<!--<div class="container">
    <div class="table-header">
        <p class="table-title">Rooms</p>
        <button class="add-button" mat-mini-fab matTooltip="New room" matTooltipPosition="right" (click)="addRoom()">
            <mat-icon>add</mat-icon>
        </button>
    </div>
    <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="number">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> Number </th>
            <td mat-cell *matCellDef="let room" class="clickable cell-center" (click)="chooseRoom(room.id)">{{room.number}}</td>
        </ng-container>
        <ng-container matColumnDef="floor">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> Floor </th>
            <td mat-cell *matCellDef="let room" class="cell-center">{{room.floor}}</td>
        </ng-container>
        <ng-container matColumnDef="update">
            <th mat-header-cell *matHeaderCellDef class="cell-center"></th>
            <td mat-cell *matCellDef="let room" class="cell-center">
                <button mat-icon-button (click)="updateRoom(room.id)">
                    <mat-icon matTooltip="update">edit</mat-icon>
                </button>
            </td>
        </ng-container>
        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef class="cell-center"></th>
            <td mat-cell *matCellDef="let room" class="cell-center">
                <button mat-icon-button (click)="deleteRoom(room.id)">
                    <mat-icon matTooltip="delete">delete</mat-icon>
                </button>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>-->
<div style ="z-index: -1; position:relative;">
<div  class="search">
  <mat-form-field appearance="legacy">
    <mat-label>Room search</mat-label>
    <input matInput type="text" name="findThisRoom"  [(ngModel)]="findThisRoom">
  </mat-form-field>
  <button mat-icon-button (click)="searchRoom()">
    <mat-icon matTooltip="search">search</mat-icon>
  </button>
</div>

<div class="row">
  <mat-form-field appearance="fill">
  <mat-label>Building</mat-label>
  <mat-select [(ngModel)]="this.selectedBuilding" name="selectedBuilding" (selectionChange)="reloadRooms()" (selectionChange)="clearRooms(true)">
    <mat-option *ngFor="let building of this.allBuildings" [value]="building">
      {{building.name}}
    </mat-option>
  </mat-select>
  </mat-form-field>
</div>

<div class="row">
  <mat-form-field appearance="fill">
    <mat-label>Floor</mat-label>
    <mat-select [(ngModel)]="this.selectedFloor" name="selectedFloor" (selectionChange)="reloadRooms()">
      <mat-option *ngFor="let floor of this.selectedBuilding.floors" [value]="floor">
        {{ floor.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>



<div class="wrapepr" *ngIf="shownRoom">


<div class="prikaz" style="float: right;"  *ngIf="shownRoom" >

  <div>
    <h1 class="naslov">Room Details</h1>
  </div>

  <div class="unos">
    <mat-form-field appearance="legacy" *ngIf="shownRoom">
      <mat-label>Building Name</mat-label>
      <input matInput type="text"  [(ngModel)]="editBuildingName">
    </mat-form-field>
    <button mat-icon-button *ngIf="shownRoom">
      <mat-icon matTooltip="update">edit</mat-icon>
    </button>
  </div>

  <div div class="unos" >
    <mat-form-field appearance="legacy" *ngIf="shownRoom">
      <mat-label>Floor name</mat-label>
      <input matInput type="text"  [(ngModel)]="editFloorName">
    </mat-form-field>
    <button mat-icon-button *ngIf="shownRoom">
      <mat-icon matTooltip="update">edit</mat-icon>
    </button>
  </div>

  <div  class="unos">
    <mat-form-field appearance="legacy" *ngIf="shownRoom">
      <mat-label>Room Name </mat-label>
      <input matInput type="text"  [(ngModel)]="editRoomName">
    </mat-form-field>
    <button mat-icon-button *ngIf="shownRoom">
      <mat-icon matTooltip="update">edit</mat-icon>
    </button>
  </div>

  <div>
    <button mat-icon-button *ngIf="shownRoom" (click)="checkIfAnythingNeedsUpdate()">
      <mat-icon matTooltip="save">save</mat-icon>
    </button>
  </div>

</div>




  <div class="mat-elevation-z8" *ngIf="shownRoom">
    <div>
      <h1 class="naslov">Equipment Details</h1>
    </div>
    <table mat-table [dataSource]="equipment" matSort >

      <ng-container matColumnDef="equipmentName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Equipment Name </th>
        <td mat-cell *matCellDef="let element"> {{element.equipmentName}} </td>
      </ng-container>

      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
      </ng-container>

      <ng-container matColumnDef="Edit"  >
        <th mat-header-cell *matHeaderCellDef > Edit </th>
        <td mat-cell *matCellDef="let element">
          <button (click)="onEquipmentMoveClick(element)">
              Move
            </button></td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>


  <div>
    <canvas id="c"></canvas>
  </div>
</div>





<!--- PIKULIN DEO, NE DIRATI NI ZA ZIVU GLAVU!-->

<div style="background-color: rgba(0, 0, 0, 0.5);width: 100%; height: 100%; position: absolute; top:0%;left:0%" *ngIf="this.tabNumber >0">
<div class="forma" *ngIf="this.tabNumber >0">
  
  <button style="float: left; " (click)="exitEquipmentMovementForm()"> Exit </button>
  <form>  
    <div>
      <h1 class="naslov">Equipment movement form</h1>
    </div>

    <div class="formaInputi" *ngIf="this.tabNumber===1">
      <div>
        <h1>Amount:</h1>
        <input type="number">
      </div>
    </div>

    <div class="formaInputi" *ngIf="tabNumber===2">
      <div>
        <h1>Destination room:</h1>
        <mat-form-field appearance="fill">
          <mat-label>Room</mat-label>
          <mat-select>
            <mat-option *ngFor="let room of this.allRooms" [value]="room">
              {{ room.name + ", " + this.getFloorNameByFloorId(room.floorId) + ", " + this.getBuildingNameByBuildingId(room.buildingId)}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <div class="formaInputi" *ngIf="tabNumber===3">
      <div>
        <h1>Date interval:</h1>
          <h2>Start date:</h2>
          <input type="date">
          <h2>End date:</h2>
          <input type="date">
      </div>
    </div>

    <div class="formaInputi" *ngIf="tabNumber===4">
      <div >
        <h1>Days:</h1>
        <input type="number" value="0">
      </div>
      
      <div>
        <h1>Hours:</h1>
        <input type="number" value="0">
      </div>

      <div>
        <h1>Minutes:</h1>
        <input type="number" value="0">
      </div>
    </div>

    <div >
      <div>
        <div>
          <button style="float: right;" (click)="nextPageInEquipmentMovement()"> NEXT </button>
        </div>
      </div>

      <div *ngIf="tabNumber > 1">
        <div>
          <button style="float: left; " (click)="previousPageInEquipmentMovement()"> Back </button>
        </div>
      </div>
    </div>

  </form>
  </div>
</div>

