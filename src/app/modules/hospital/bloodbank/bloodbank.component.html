<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
  <div class="button-div">
    <a routerLink="/view-bloodRequests"><button class="btn btn-success" class="btn--basic" > Blood request </button></a>
    &nbsp; &nbsp; &nbsp;
    <a routerLink="/urgent-blood-supply"><button class="btn btn-success" class="btn--basic"> Urgent supply </button></a>
    &nbsp; &nbsp; &nbsp;
    <a routerLink="/bloodBank/bloodSubscription"><button class="btn btn-success" class="btn--basic"> Blood subscription </button></a>
    
  </div>
  <div class="container">
    <div class="container-f">

      <div class="title-container">
        <h1 class="title">Check blood supply</h1>
      </div>
      
      <form [formGroup]="bloodSupplyForm" (ngSubmit)="checkBloodSupply()" class="input-schedule">

        <div>
          <mat-form-field appearance="fill" class="input-schedule">
            <mat-label>BloodType</mat-label>
            <mat-select [(ngModel)]="bloodType" formControlName="bloodType" id="bloodTypeSelect">
              <mat-option>None</mat-option>
              <mat-option *ngFor="let state of states; let i = index" [value]="state" [id]= "'state' + i">{{state}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="fill" class="input-schedule">
            <mat-label>Requred amount (in liters)</mat-label>
            <input  matInput [(ngModel)]="bloodAmount" formControlName="bloodAmount" min="0" type="number" id="bloodAmountInput">
            <mat-error>Input positive number!</mat-error>
          </mat-form-field>
        </div>

        <button mat-stroked-button [disabled]="bloodSupplyForm.invalid" mat-flat-button color="primary" class="input-schedule" id="submitBloodSupply">Submit</button><br>
        <div>
          <mat-label style="text-align:center;" id = "responseStatus">Response from blood bank: {{responseStatus}}</mat-label><br>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
